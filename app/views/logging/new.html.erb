<div class="auth-page">
  <div class="auth-container">
    <div class="auth-card">
      <div class="auth-header">
        <div class="auth-icon"><%= session[:moru] == "member" ? "ЁЯСитАНЁЯТ╝" : "тЬи" %></div>
        <h1 class="auth-title">рдкрдЮреНрдЬреАрдХрд░рдгрдореН</h1>
        <p class="auth-subtitle">
          <%= session[:moru] == "member" ? "рдкреНрд░рдмрдиреНрдзрдХрдГ" : "рдирд╡реАрдирдГ рдЙрдкрдпреЛрдХреНрддрд╛" %> рдЦрд╛рддрд╛рдВ рд╕реГрдЬрдпрддреБ
        </p>
      </div>

      <% if !session[:otp] %>
        <%= form_tag newp_path, class: "auth-form" do %>
          <div class="form-group">
            <%= label_tag :name, "рдирд╛рдо", class: "form-label" %>
            <div class="input-with-icon">
              <span class="input-icon">ЁЯСд</span>
              <%= text_field_tag :name, nil, required: true, class: "form-input", placeholder: "рдЖрдкрдгрдВ рдирд╛рдо...", autofocus: true %>
            </div>
          </div>

          <div class="form-group">
            <%= label_tag :email, "рд╡рд┐рджреНрдпреБрддреНрдкрддреНрд░рдореН", class: "form-label" %>
            <div class="input-with-icon">
              <span class="input-icon">ЁЯУз</span>
              <%= email_field_tag :email, nil, required: true, class: "form-input", placeholder: "your@email.com" %>
            </div>
          </div>

          <div class="form-group">
            <%= label_tag :password, "рдХреВрдЯрд╢рдмреНрджрдГ", class: "form-label" %>
            <div class="input-with-icon">
              <span class="input-icon">ЁЯФС</span>
              <%= password_field_tag :password, nil, required: true, class: "form-input", placeholder: "тАвтАвтАвтАвтАвтАвтАвтАв", minlength: 6 %>
            </div>
          </div>

          <div class="form-group">
            <%= label_tag :repass, "рдХреВрдЯрд╢рдмреНрджрдГ рдкреБрдирдГ", class: "form-label" %>
            <div class="input-with-icon">
              <span class="input-icon">ЁЯФТ</span>
              <%= password_field_tag :repass, nil, required: true, class: "form-input", placeholder: "тАвтАвтАвтАвтАвтАвтАвтАв", minlength: 6 %>
            </div>
          </div>

          <div class="form-actions">
            <%= submit_tag "рдкрдЮреНрдЬреАрдХрд░рдгрдВ рдХрд░реЛрддреБ", class: "btn btn-primary btn-full" %>
          </div>
        <% end %>
      <% else %>
        <%= form_tag otpp_path, class: "auth-form" do %>
          <div class="otp-notice">
            <p>ЁЯУи OTP рдЖрдкрдгрд╕реНрдп рд╡рд┐рджреНрдпреБрддреНрдкрддреНрд░реЗ рдкреНрд░реЗрд╖рд┐рддрдГ рдЕрд╕реНрддрд┐</p>
          </div>

          <div class="form-group">
            <%= label_tag :otp, "OTP", class: "form-label" %>
            <div class="input-with-icon">
              <span class="input-icon">ЁЯФв</span>
              <%= text_field_tag :otp, nil, required: true, class: "form-input", placeholder: "Enter 6-digit OTP", maxlength: 6, autofocus: true %>
            </div>
          </div>

          <div class="form-actions">
            <%= submit_tag "рд╕рддреНрдпрд╛рдкрдпрддреБ", class: "btn btn-primary btn-full" %>
          </div>
        <% end %>
      <% end %>

      <div class="auth-footer">
        <div class="auth-links">
          <%= link_to user_login_path, class: "auth-link" do %>
            <span>ЁЯФР</span> рдкреВрд░реНрд╡рдореЗрд╡ рдЦрд╛рддрд╛ рдЕрд╕реНрддрд┐? рдкреНрд░рд╡реЗрд╢рдГ рдХрд░реЛрддреБ
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>