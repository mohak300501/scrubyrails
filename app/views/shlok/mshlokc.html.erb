<div class="form-page">
  <div class="form-container">
    <div class="form-header">
      <div class="greeting">‡§®‡§Æ‡§∏‡•ç‡§§‡•á üôè</div>
      <h1>‡§®‡•Ç‡§§‡§®‡§É ‡§∂‡•ç‡§≤‡•ã‡§ï‡§É ‡§Ø‡•ã‡§ú‡§Ø‡§§‡•Å</h1>
      <p class="form-subtitle">‡§®‡§µ‡•Ä‡§®‡§Ç ‡§∂‡•ç‡§≤‡•ã‡§ï‡§Ç ‡§∏‡•É‡§ú‡§Ø‡§§‡•Å</p>
    </div>

    <%= form_tag shlok_post_path, multipart: true, class: "modern-form" do %>
      <div class="form-group">
        <%= label_tag "‡§∂‡•Ä‡§∞‡•ç‡§∑‡§ï‡§Ç", nil, class: "form-label" %>
        <%= text_field_tag :title, nil, required: true, class: "form-input", placeholder: "‡§∂‡•ç‡§≤‡•ã‡§ï‡§∏‡•ç‡§Ø ‡§∂‡•Ä‡§∞‡•ç‡§∑‡§ï‡§Ç..." %>
      </div>

      <div class="form-group">
        <%= label_tag "‡§∂‡•ç‡§≤‡•ã‡§ï‡§É", nil, class: "form-label" %>
        <%= text_area_tag :shlok, nil, required: true, class: "form-textarea", placeholder: "‡§∂‡•ç‡§≤‡•ã‡§ï‡§Ç ‡§≤‡§ø‡§ñ‡§§‡•Å...", rows: 6 %>
      </div>

      <div class="form-group">
        <%= label_tag "‡§∂‡•ç‡§∞‡§µ‡•ç‡§Ø‡§∏‡§û‡•ç‡§ö‡§ø‡§ï‡§æ", nil, class: "form-label" %>
        <div class="file-input-wrapper">
          <%= file_field_tag :audio, required: true, class: "file-input", id: "shlok-audio-input", accept: "audio/*" %>
          <label for="shlok-audio-input" class="file-input-label">
            <i class="upload-icon">üéµ</i>
            <span id="audio-file-name">‡§∂‡•ç‡§∞‡§µ‡•ç‡§Ø‡§∏‡§û‡•ç‡§ö‡§ø‡§ï‡§æ‡§Ç ‡§ö‡§ø‡§®‡•ã‡§§‡•Å</span>
          </label>
        </div>
        <div id="audio-preview" class="file-preview" style="display: none;">
          <span class="preview-icon">‚úì</span>
          <span class="preview-text"></span>
        </div>
      </div>

      <div class="form-group">
        <%= label_tag "‡§Ö‡§®‡•Å‡§µ‡§æ‡§¶‡§É", nil, class: "form-label" %>
        <%= text_area_tag :translation, nil, required: true, class: "form-textarea", placeholder: "‡§Ö‡§®‡•Å‡§µ‡§æ‡§¶‡§Ç ‡§≤‡§ø‡§ñ‡§§‡•Å...", rows: 6 %>
      </div>

      <div class="form-actions">
        <%= submit_tag "‡§Ö‡§ó‡•ç‡§∞‡•á‡§∏‡•ç‡§•‡§æ‡§™‡§®‡§Ç ‡§ï‡§∞‡•ã‡§§‡•Å", class: "btn btn-primary" %>
        <%= link_to "‡§™‡•ç‡§∞‡§§‡§ø‡§ó‡§ö‡•ç‡§õ‡§§‡•Å", all_shloks_path, class: "btn btn-secondary" %>
      </div>
    <% end %>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const fileInput = document.getElementById('shlok-audio-input');
  const fileName = document.getElementById('audio-file-name');
  const preview = document.getElementById('audio-preview');
  const previewText = preview.querySelector('.preview-text');
  
  fileInput.addEventListener('change', function() {
    if (this.files && this.files.length > 0) {
      const file = this.files[0];
      fileName.textContent = file.name;
      previewText.textContent = `‡§ö‡§Ø‡§®‡§ø‡§§‡§Ç: ${file.name} (${(file.size / 1024 / 1024).toFixed(2)} MB)`;
      preview.style.display = 'flex';
    } else {
      fileName.textContent = '‡§∂‡•ç‡§∞‡§µ‡•ç‡§Ø‡§∏‡§û‡•ç‡§ö‡§ø‡§ï‡§æ‡§Ç ‡§ö‡§ø‡§®‡•ã‡§§‡•Å';
      preview.style.display = 'none';
    }
  });
});
</script>